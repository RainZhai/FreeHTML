<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Free HTML</title>
<!-- Framework CSS -->
<link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection"/>
<link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print"/> 
<!--[if lte IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
<link rel="stylesheet" href="css/rain.css" type="text/css" media="screen, projection"/>
<!--[if lt IE 9]><script type="text/javascript" src="js/html5.js"></script><![endif]-->
</head>

<body class="body">
	<div class="header headerBlue">
  	<nav class="listStyleNo positionR clearfix">
    	<a href="#" class="headerLink headerLinkBlue left paddingRight paddingLeft displayBlock textDecNone">link1</a>
    	<a href="#" class="headerLink headerLinkBlue left paddingRight paddingLeft displayBlock textDecNone">link2</a>
    	<a href="#" class="headerLink headerLinkBlue left paddingRight paddingLeft displayBlock textDecNone">link3</a>
    </nav>
  </div>
	<div class="headerM headerGrey">
  	<div class="container positionR">
    	<div class="left"><a class="textDecNone displayBlock paddingTopLL fontsizeXxlarge" href="index.html">Free HTML</a></div>
    </div>
  </div>
  
<div class="container marginTop"> 
    <div class="content">
        <div class="sidebar left positionR">
        <h2 class="category">test</h2>
        <p>This part is the webpage webpage webpage</p>
      </div>
      <div class="c_main main mainRight positionR">
        <h1>test</h1> 
      </div>
    </div>
</div>
 
<script type="text/javascript" src="js/jquery-1.7.2.js"></script>
<script type="text/javascript">
(function($) { 
	$.rainUtil = {};
	$.rainUtil.interface = function(name, methods) { 
		if(arguments.length != 2) {
			throw new Error("Interface constructor called with " + arguments.length + "arguments, but expected exactly 2.");
		}
		
		this.name = name;
		this.methods = [];
		for(var i = 0, len = methods.length; i < len; i++) {
			if(typeof methods[i] !== 'string') {
				throw new Error("Interface constructor expects method names to be passed in as a string.");
			}
			this.methods.push(methods[i]);        
		}
	}
	
	$.rainUtil.ensureImplements = function(object) {
		if(arguments.length < 2) {
			throw new Error("Function Interface.ensureImplements called with " + arguments.length  + "arguments, but expected at least 2.");
		}
	
		for(var i = 1, len = arguments.length; i < len; i++) {
			var interface = arguments[i];
			if(interface.constructor !== $.rainUtil.interface) {
				throw new Error("Function Interface.ensureImplements expects arguments two and above to be instances of Interface.");
			}
			
			for(var j = 0, methodsLen = interface.methods.length; j < methodsLen; j++) {
				var method = interface.methods[j];
				if(!object[method] || typeof object[method] !== 'function') {
					throw new Error("Function ensureImplements: object " 
					  + "does not implement the " + interface.name + " interface. Method " + method + " was not found.");
				}
			}
		} 
	};
	
	$.rainUtil.htmlObj=function(obj) {
		var o = {
			html: null,
			jQobj: null,
			/*设置构造器*/
			constructor: function(){
				o.getHtml();
				o.getJQobj();
			},
			/*检查对象属性*/
			checkObj: function(propName/*string*/) {
				if(!propName){
					throw new Error('Invalid property.');
				}
			},
			/*设置默认动作*/
			actions: function(){},
			/*设置样式*/
			css: function(obj){
				o.jQobj.css(obj);
			},
			/*设置html标签*/
			getHtml: function(){
				if(!o.html){
					if(obj.tagName){
						var id = obj.id || '';
						var classes = obj.class || '';
						var content = obj.content || '';
						o.html = "<"+obj.tagName+" id='"+id+"' class='"+classes+"'>"+content+"</"+obj.tagName+">";
					}
				}
				return o.html;
			},
			/*获取jq对象*/
			getJQobj: function(){
				if(!o.jQobj){
					if(o.html){ o.jQobj =  $(o.html); }
				}
				return o.jQobj;
			},
			/*设置父元素*/
			setParent: function(selector/*string*/){
				$(selector).append(o.getJQobj());
			},
			/*设置标签内容*/
			setContent: function(ele/*string | jqObj*/){
				o.getJQobj().empty().append(ele);
			},
			/*添加标签内容*/
			addContent: function(ele/*string | jqObj*/){
				o.getJQobj().append(ele);
			}
		};
		o.constructor();
		return o;
	}
})(jQuery);

var BoxIf = new $.rainUtil.interface('Box', ['add', 'remove']);
var div = new $.rainUtil.htmlObj({"id":"hello","tagName":"div","class":"","content":"hello world"});
div.css({'color':'red','font-weight':'29px'});
div.actions.add = function(ele){
	div.getJQobj().append(ele);
};
div.actions.remove = function(){};
$.rainUtil.ensureImplements(div.actions,BoxIf); 
alert(div.getHtml());
//div.setContent("<p>.c_main</p>");
div.setParent('body');
</script>
</body>
</html>
